{% extends 'admin/layouts/app.html.twig' %}


{% block title %}API Keys
{% endblock %}

{% block body %}
	<div class="row">
		<div class="col-sm-12">
			{% for message in app.flashes('success') %}
				<div class="alert alert-success">
					{{ message }}
				</div>
			{% endfor %}
			{% for message in app.flashes('error') %}
				<div class="alert alert-danger">
					{{ message }}
				</div>
			{% endfor %}

			<div class="iq-card">
				<div class="iq-card-header d-flex justify-content-between">
					<div class="iq-header-title">
						<h4 class="card-title">API Keys</h4>
					</div>
				</div>
				<div class="iq-card-body">
					<div class="table-responsive">
						<div class="row justify-content-between">
							<div class="col-sm-12 col-md-6">
								<div id="user_list_datatable_info" class="dataTables_filter">
									
								</div>
							</div>
							<div class="col-sm-12 col-md-6">
								<div class="user-list-files d-flex float-right">
									<button class="btn btn-primary" role="button" onclick="event.preventDefault(); document.getElementById('generateKEYS').submit();">
										Régénérer les clés
									</button>
									<form
											id="generateKEYS" action="{{ path('generate_credentials') }}" method="POST" class="d-none">
										</form>
								</div>
							</div>
                            <div class="col-sm-12 col-md-6 mb-5">
								<div class="tab-pane fade show active" id="" role="tabpanel" aria-labelledby="-tab">
									<label for="clientSecret" class="mr-3">Client Secret</label>
									<div class="input-group">
										<input id="clientSecret" name="clientSecret" type="text" onclick="this.select();document.execCommand('copy')" value="{{app.user.clientSecret}}" class="form-control" readonly>
											<button class="btn btn-primary input-prepend" onclick="this.previousElementSibling.select();document.execCommand('copy')">Copier </button>
									</div>
								</div>
								<label for="clientId" class="mt-3">Client ID </label>
								<div class="input-group">
									<input id="clientId" name="clientId" onclick="this.select();document.execCommand('copy');" value="{{app.user.clientId}}" type="text" class="form-control" readonly>
										<button class="btn btn-primary input-prepend" onclick="this.previousElementSibling.select();document.execCommand('copy')">Copier </button>
								</div>
							</div>
						</div>
			        </div>
			    </div>
			</div>
		</div>
	</div>
{% endblock %}
